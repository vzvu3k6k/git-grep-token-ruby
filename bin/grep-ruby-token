#!/usr/bin/env ruby

require 'grep_ruby_token'

if ARGV.size < 2
  abort "grep-ruby-token TOKEN [FILE]..."
end

token = ARGV.shift.to_sym
filepaths = ARGV

filepaths.each do |path|
  code = File.read(path)
  puts GrepRubyToken::token_grep(path, code, token)
end
